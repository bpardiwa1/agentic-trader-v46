# ==========================================================
# Agentic Trader v4.6 â€” Indices (idx_v46) Environment
# ==========================================================

# ----------------------------------------------------------
# Core / Logging
# ----------------------------------------------------------
AGENT_NAME=IDX_V46
AGENT_SYMBOLS=NAS100.s,UK100.s,HK50.s
LOG_LEVEL=INFO


# ----------------------------------------------------------
# BROKER CONNECTION (VTMarkets)
# ----------------------------------------------------------

MT5_LOGIN=18023893
MT5_PASSWORD=VishyVahis786!
MT5_SERVER=VTMarkets-Live 3
MT5_PATH=C:\Program Files\MetaTrader 5\terminal64.exe
MT5_DEVIATION=80

# ----------------------------------------------------------
# Timeframe & History
# ----------------------------------------------------------
IDX_TIMEFRAME=M15
IDX_HISTORY_BARS=240

# ----------------------------------------------------------
# Indicators
# ----------------------------------------------------------
IDX_EMA_FAST=20
IDX_EMA_SLOW=50
IDX_RSI_PERIOD=14
IDX_RSI_LONG_TH=60
IDX_RSI_SHORT_TH=40
IDX_ATR_PERIOD=14

# ----------------------------------------------------------
# ATR Gating & Scaling
# ----------------------------------------------------------
IDX_ATR_TARGET_MIN=0.0008
IDX_ATR_TARGET_MAX=0.0060
IDX_ATR_POINTS_MULT=10000

# ----------------------------------------------------------
# SL/TP Baselines & Multipliers (CM07b)
# ----------------------------------------------------------
IDX_SL_POINTS_BASE=100
IDX_TP_POINTS_BASE=200
IDX_SL_ATR_MULT=1.5
IDX_TP_ATR_MULT=3.0

# ----------------------------------------------------------
# Confidence-Based SL/TP Tuning
# ----------------------------------------------------------
IDX_CONF_SLTP_WEIGHT=0.5     # influence strength (0=no effect, 1=strong)
IDX_SL_MIN_POINTS=20
IDX_TP_MIN_POINTS=40

# ----------------------------------------------------------
# Guardrails
# ----------------------------------------------------------
IDX_AGENT_MAX_OPEN=12
IDX_AGENT_MAX_PER_SYMBOL=1
IDX_COOLDOWN_SEC=300
IDX_BLOCK_SAME_DIRECTION=True
IDX_MIN_CONFIDENCE=0.55

# ----------------------------------------------------------
# Optional Soft EMA-Aligned Signal Control
# ----------------------------------------------------------
IDX_ALLOW_SOFT_SIGNALS=true     # true=enable moderate EMA-aligned trades
IDX_SOFT_SIGNAL_WEIGHT=0.8      # lower confidence for soft signals (0.8=reduce by 20%)

# ----------------------------------------------------------
# Dynamic Lots & Trust
# ----------------------------------------------------------
IDX_MIN_LOTS=0.10
IDX_MAX_LOTS=0.30
IDX_LOT_STEP=10
IDX_TRUST_WEIGHT=0.40
IDX_TRUST_MIN=0.40
IDX_TRUST_MAX=0.95
IDX_TRUST_DEFAULT=0.50
IDX_TRUST_INC_SUCCESS=0.05
IDX_TRUST_DEC_FAIL=0.10
IDX_TRUST_DECAY_SEC=540000
IDX_QUIET_LOT_MULT=0.9
IDX_HIGH_VOL_LOT_MULT=0.8

# ----------------------------------------------------------
# Execution
# ----------------------------------------------------------
MT5_DEVIATION=80
IDX_STOP_WIDEN_MULT=1.5
IDX_PIP_MODE=index_point

# ----------------------------------------------------------
# Global Fallback Session (KL time)
# ----------------------------------------------------------
IDX_TRADE_START=00:00
IDX_TRADE_END=23:59
IDX_TRADE_DAYS=1,2,3,4,5

# ----------------------------------------------------------
# Per-Symbol Trading Sessions (KL time)
# ----------------------------------------------------------
# NASDAQ (US session)
IDX_TRADE_START_NAS100=21:30
IDX_TRADE_END_NAS100=04:00
IDX_TRADE_DAYS_NAS100=1,2,3,4,5

# FTSE (UK session)
IDX_TRADE_START_UK100=16:00
IDX_TRADE_END_UK100=00:30
IDX_TRADE_DAYS_UK100=1,2,3,4,5

# Hang Seng (HK session)
IDX_TRADE_START_HK50=09:15
IDX_TRADE_END_HK50=16:30
IDX_TRADE_DAYS_HK50=1,2,3,4,5
